--- modules/local_storage/commerce_stock_local.module
+++ modules/local_storage/commerce_stock_local.module
@@ -88,11 +88,13 @@ function _commerce_stock_local_update_stock_level_queue() {
   // Cycle the returned entity IDs and add them to the queue.
   foreach ($result as $pid) {
     $entity = $storage->load($pid->entity_id);
-    $data = [
-      'entity_id' => $entity->id(),
-      'entity_type' => $entity->getEntityTypeId(),
-    ];
-    $queue->createItem($data);
+    if($entity != null) {
+      $data = [
+        'entity_id' => $entity->id(),
+        'entity_type' => $entity->getEntityTypeId(),
+      ];
+      $queue->createItem($data);
+    }
   }
 }
 
