(function(c,a,d){var b=function(f,j){var h=f.root;var l=f.options;var k=l.video||{};var g=k.autoplay||false;var e;var i=false;return{mount:function(){var m=this;f.on("active.spm",m.play.bind(m));f.on("moved.spm",m.close.bind(m));c.on(h,"click",".media__icon--close",m.stop.bind(m));c.on(h,"click",".media__icon--play",m.pause.bind(m))},close:function(){var m=this;m.stop();m.stopLocalVideo();i=false},play:function(n){var p=this;if(!g||i){return}var q=n.slide.querySelector(".media");if(q!==null){p.close();var o=q.querySelector(".media__icon--play");var m=q.querySelector("video");if(o!==null){p._play(o)}else{if(m!==null){p._play(m)}}}},_play:function(m){d.clearTimeout(e);e=d.setTimeout(function(){m[c.equal(m,"video")?"play":"click"]()},501)},stopLocalVideo:function(){var m=h.querySelector("video")===null?[]:h.querySelectorAll("video");if(m.length){c.forEach(m,function(n){n.pause()})}},stop:function(){h.classList.remove("is-paused");var n=h.querySelector(".is-playing");if(n!==null){n.classList.remove("is-playing");var m=n.querySelector(".media__icon--close");if(m!==null){i=true;m.click()}}},pause:function(){i=true;h.classList.add("is-paused");if(l.autoplay){f.off("autoplay:playing")}}}};a.extend({Media:b})})(dBlazy,dSplide,this);
