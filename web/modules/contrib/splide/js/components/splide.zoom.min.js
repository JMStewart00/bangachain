!function(F,I,L,O){"use strict";I.extend({Zoom:function(d,h){var r,t,l,a,c,u,e=d.root,f=d.options.zoom||{},m=f.max||1.5,p=f.min||.6,o=f.on||!1,y=f.scale||!1,g=f.click||!1,n=f.root||!1,i=f.rootClass||"is-zoomed",x=f.target||".slide__media",v=f.dragClass||"is-dragging",Z="is-zoomable",s=1,b={x:0,y:0},z=null,w=null,S=null,q=0,E={},k=O.documentElement,A=L.innerHeight||k.clientHeight,C=L.innerWidth||k.clientWidth,k="data-splide",D=k+"-cw",M=k+"-ch",W=k+"-nh",_=null;return{currSlide:null,unZoomed:!1,mount:function(){var e=this;o&&(d.on("mounted.spz",function(){L.setTimeout(function(){e.wheelZoom()},500)}),d.on("active.spz",function(t){e.currSlide=t,e.unZoomed=!1,e.prepare()}),d.on("inactive.spz",function(t){e.currSlide=null,e.toogleClass(!1);t=t.slide.querySelector("."+Z);e.scale(!1,t)}),e.dragon())},wheelZoom:function(){var o=this;(t=e.querySelectorAll(x)).length&&F.forEach(t,function(t){var e=t.querySelector("."+Z);null!==e&&(o.fit(e),o.scale(!1,e),o.bindWheel(t,!0,o.zoom.bind(o)))})},fit:function(t){var e=this,o=t.offsetHeight,n=t.offsetWidth,i=parseInt(I.attr(t,"height",0)),s=parseInt(I.attr(t,"width",0));A<o&&(u=C/n<A/o?o*((c=C)/n):(c=n*(A/o),A));o=e.sizes(t);e.isEmpty(o)||!o.nw&&!o.w||(l=o.w,a=o.h,c=o.nw||c,u=o.nh||u,e.toData(t),I.attr(t,W)||(t.setAttribute(D,l),t.setAttribute(M,a),t.setAttribute("data-splide-nw",c),t.setAttribute(W,u))),i<A&&(u=i,c=s,t.dataset.splideFit=1),t.style.width=c+"px",t.style.height=u+"px"},bindWheel:function(t,e,o){F[e?"bindEvent":"unbindEvent"](t,"wheel",o,{passive:!0})},prepare:function(){this.currSlide&&null!==(w=this.currSlide.slide.querySelector(x))&&(S=w.querySelector("."+Z))},zoomRoot:function(){return null===z&&n&&(z="string"==typeof n?document.querySelector(n):n),z||e},zoom:function(t){var e=this,o=I.wheelDelta(t);e.prepare(),s+=-.01*o,s=Math.min(Math.max(1,s),m),e.isZoomed()?(e.unZoomed=!1,e.scrollon(t)):e.unZoomed?(s=1,e.scale(!1,S)):e.scale(!e.isZoomed(),S)},scale:function(t,e){0;var o,n,i,s,l=t;this.toogleClass(l),null!==e&&y&&(i=F.closest(e,".slide"),n=F.closest(e,".slide__content"),o=parseInt(I.attr(e,"width",0)),s=parseInt(I.attr(e,"height",0)),n=n.offsetWidth,i.classList.add(Z+"-slide"),i=p,s=2<(m=s/A)?1.5:m,o<n&&(i=.8,s=1),r=t?s:i,e.style.transform="scale("+r+")"),!w||l&&this.isZoomed()&&null!==e||(w.style.transform="translate(0px)")},scrollon:function(t){var e=this;_&&L.cancelAnimationFrame(_),e.sizes(),!e.isEmpty(E)&&e.isValid()&&(_=L.requestAnimationFrame(function(){e._scrollon(t)}))},_scrollon:function(t){t.preventDefault(),t.stopPropagation();var e=w.querySelector("."+Z),o=null!==e&&e.dataset.splideFit,n=Math.abs(E.h-E.ph)/1.5,e=I.wheelDelta(t),t=.5*n;return b.y+=0<e?-t:t,b.x=0,q=Math.abs(b.y)>=n,0<e&&q?b.y=-n:e<0&&q&&(b.y=n),w&&!o&&(w.style.transform="translate("+b.x+"px,"+b.y+"px)"),_=null,!1},dragon:function(){var o,n,i=this,t=i.zoomRoot(),s=!1,e=f,l=w,r=0;e.onClick=!!g&&i.clicked.bind(i),e.callback=function(t,e){l=e.el||l,b.x=e.x||0,b.y=e.y||0,i.sizes(),r=Math.ceil((E.h-E.ph)/2),n=e.dir,o=e.phase,l&&("start"===o?u("off"):"move"===o?i.isZoomed()?l.style.transform="translate("+b.x+"px,"+b.y+"px)":c():"end"===o&&function(){q=Math.abs(b.y)>=r;var t="right"===n;t||"left"===n?(s=!0,b.x=t?0:-1):q&&(s=!0,b.y="down"===n&&0<b.y?r:-r),L.setTimeout(function(){u("on"),i.isZoomed()?s&&(l.style.transform="translate("+b.x+"px,"+b.y+"px)"):c()},300)}())},e.dragClass=v;var a=[];function c(){l.style.transform="translate(0px)"}function u(t){i[t](),d.options={drag:!i.isZoomed()}}F.forEach(h.Elements.slides,function(t){t=t.querySelector(x);t&&a.push(t)}),e.elms=a,new SwipeDetect(t,e)},clicked:function(t){t.target.classList.contains(Z)?(this.unZoomed=!1,s=m,this.scale(!this.isZoomed(),t.target)):this.unZoomed=!0},sizes:function(t){return S=t||S,E=I.checkSizes(S,w)},isEmpty:function(t){return t&&0===Object.keys(t).length&&Object.getPrototypeOf(t)===Object.prototype},toData:function(t){l=I.attr(t,D,l),a=I.attr(t,M,a)},isValid:function(){return this.prepare(),null!==w},isZoomed:function(){return o&&this.zoomRoot().classList.contains(i)},toogleClass:function(t){this.zoomRoot().classList[t?"add":"remove"](i)},on:function(){this.unZoomed=!1},off:function(){this.unZoomed=!0}}}})}(dBlazy,dSplide,this,this.document);
