!function(b,C,q,E){"use strict";C.extend({Zoom:function(d,h){var n,t,e=d.root,f=d.options.zoom||{},a=f.max||1.5,i=f.min||.8,o=f.on||!1,l=f.scale||!1,m=f.click||!1,s=f.root||!1,r=f.rootClass||"is-zoomed",p=f.target||".slide__media",y=f.dragClass||"is-dragging",c="is-zoomable",u=1,g={x:0,y:0},v=null,x=null,w=null,Z=0,z={},S=null;return{currSlide:null,unZoomed:!1,mount:function(){var e=this;o&&(d.on("mounted.spz",function(){q.setTimeout(function(){e.wheelZoom()},500)}),d.on("active.spz",function(t){e.currSlide=t,e.unZoomed=!1,e.prepare()}),d.on("inactive.spz",function(t){e.currSlide=null,e.toogleClass(!1);t=t.slide.querySelector("."+c);e.scale(!1,t)}),e.dragon())},wheelZoom:function(){var o=this;(t=e.querySelectorAll(p)).length&&b.forEach(t,function(t){var e=t.querySelector("."+c);e&&(o.scale(!1,e),o.bindWheel(t,!0,o.zoom.bind(o)))})},bindWheel:function(t,e,o){b[e?"bindEvent":"unbindEvent"](t,"wheel",o,{passive:!0})},fit:function(t){var e=t.target||t,o=b.closest(e,".slide"),s=(i=o,"width"==="height"?i.offsetWidth:i.offsetHeight),n=s,a=0,t=e.naturalWidth,o=e.naturalHeight,i=C.attr(e,"width",o);e.style.width="auto",e.style.height="auto",n=n<t&&o<t?(l=n)/(a=t/o):(l=s<o&&t<o?s/(a=o/t):n,s);var l,s=i<s;e.dataset.sFit=s?1:0,e.dataset.sNw=t,e.dataset.sNh=o,e.dataset.sCw=l,e.dataset.sCh=n,e.dataset.sRatio=a,o=s,n=(l=e).dataset.sNw,a=l.dataset.sNh,s=l.dataset.sCw,e=l.dataset.sCh,a=C.attr(l,"height",a),n=C.attr(l,"width",n),l.style.width=(o?n:s)+"px",l.style.height=(o?a:e)+"px"},prepare:function(){var e=this,t=E.querySelectorAll("."+c);t.length&&b.forEach(t,function(t){t.complete?e.fit(t):b.one(t,"load",e.fit.bind(e))}),e.currSlide&&null!==(x=e.currSlide.slide.querySelector(p))&&(w=x.querySelector("."+c))},zoomRoot:function(){return null===v&&s&&(v="string"==typeof s?document.querySelector(s):s),v||e},zoom:function(t){var e=this,o=C.wheelDelta(t);e.prepare(),u+=-.01*o,u=Math.min(Math.max(1,u),a),e.isZoomed()?(e.unZoomed=!1,e.scrollon(t)):e.unZoomed?(u=1,e.scale(!1,w)):e.scale(!e.isZoomed(),w)},scale:function(t,e){0;var o=t,s=e&&1===parseInt(e.dataset.sFit,0);this.toogleClass(o),e&&l&&!s&&(b.closest(e,".slide").classList.add(c+"-slide"),a=4<(a=Math.min(parseInt(e.dataset.sNw,0)/parseInt(e.dataset.sCw,0),parseInt(e.dataset.sNh,0)/parseInt(e.dataset.sCh,0)))?3:a,n=t?a:i,e.style.transform="scale("+n+")"),!x||o&&this.isZoomed()&&null!==e||(x.style.transform="translate(0px)")},scrollon:function(t){var e=this;S&&q.cancelAnimationFrame(S),e.sizes(),!e.isEmpty(z)&&e.isValid()&&(S=q.requestAnimationFrame(function(){e._scrollon(t)}))},_scrollon:function(t){t.preventDefault(),t.stopPropagation();var e=x.querySelector("."+c),o=e&&1===parseInt(e.dataset.sFit,0),s=Math.abs(z.h-z.ph)/1.5,e=C.wheelDelta(t),t=.5*s;return g.y+=0<e?-t:t,g.x=0,Z=Math.abs(g.y)>=s,0<e&&Z?g.y=-s:e<0&&Z&&(g.y=s),x&&!o&&(x.style.transform="translate("+g.x+"px,"+g.y+"px)"),S=null,!1},dragon:function(){var o,s,n=this,t=n.zoomRoot(),a=!1,e=f,i=x,l=0;e.onClick=!!m&&n.clicked.bind(n),e.callback=function(t,e){i=e.el||i,g.x=e.x||0,g.y=e.y||0,n.sizes(),l=Math.ceil((z.h-z.ph)/2),s=e.dir,o=e.phase,i&&("start"===o?u("off"):"move"===o?n.isZoomed()?i.style.transform="translate("+g.x+"px,"+g.y+"px)":c():"end"===o&&function(){Z=Math.abs(g.y)>=l;var t="right"===s;t||"left"===s?(a=!0,g.x=t?0:-1):Z&&(a=!0,g.y="down"===s&&0<g.y?l:-l),q.setTimeout(function(){u("on"),n.isZoomed()?a&&(i.style.transform="translate("+g.x+"px,"+g.y+"px)"):c()},300)}())},e.dragClass=y;var r=[];function c(){i.style.transform="translate(0px)"}function u(t){n[t](),d.options={drag:!n.isZoomed()}}b.forEach(h.Elements.slides,function(t){t=t.querySelector(p);t&&r.push(t)}),e.elms=r,new SwipeDetect(t,e)},clicked:function(t){t.target.classList.contains(c)?(this.unZoomed=!1,u=a,this.scale(!this.isZoomed(),t.target)):this.unZoomed=!0},sizes:function(t){return w=t||w,z=C.checkSizes(w,x)},isEmpty:function(t){return t&&0===Object.keys(t).length&&Object.getPrototypeOf(t)===Object.prototype},isValid:function(){return this.prepare(),null!==x},isZoomed:function(){return o&&this.zoomRoot().classList.contains(r)},toogleClass:function(t){this.zoomRoot().classList[t?"add":"remove"](r)},on:function(){this.unZoomed=!1},off:function(){this.unZoomed=!0}}}})}(dBlazy,dSplide,this,this.document);
